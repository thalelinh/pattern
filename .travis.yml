language: python

dist: xenial

python:
  - "2.7"
  - "3.6"
  - "3.7"

before_install:
  - export TZ=Europe/Brussels
  # Setup miniconda
  #  - if [ ${TRAVIS_PYTHON_VERSION:0:1} == "2" ]; then wget http://repo.continuum.io/miniconda/Miniconda-latest-Linux-x86_64.sh -O miniconda.sh; else wget http://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh; fi
  #- bash miniconda.sh -b -p $HOME/miniconda
  #- export PATH="$HOME/miniconda/bin:$PATH"
  #- conda update --yes conda
  #- conda create --yes --name pattern python=$TRAVIS_PYTHON_VERSION
  #- source activate pattern
  #- conda install --yes numpy scipy
  - pip install --quiet pytest pytest-cov pytest-xdist chardet

install:
  - python setup.py install --quiet
  - pip freeze
  # No need to compile libsvm and liblinear, can rely on the precompiled and commited versions

script:
  - pytest --cov=pattern

after_script:
  - pip install --quiet coveralls
  - coveralls

branches:
only:
  - development

notifications:
  email: false

# You can connect to MySQL/MariaDB using the username "travis" or "root" and a blank password.
services:
  - mysql
